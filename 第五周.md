# æ·±å…¥äº†è§£ Git ç”¨æ³•-ç¬¬äº”å‘¨

> å°è‹±

- git submodule
- git tag
- git hooks
- git test


> å†¬æž—


## git å¸¸è§éœ€æ±‚ä¸Žæ€»ç»“

- Git åœ¨å·¥ä½œåŒºä¸èƒ½æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡

```bash
$ git status
"\347\254\254\345\233\233\345\221\250.md" # æ–‡ä»¶åçš„ä¸­æ–‡ä¸èƒ½æ­£ç¡®åœ°æ˜¾ç¤ºï¼Œè€Œæ˜¯æ˜¾ç¤ºä¸ºå…«è¿›åˆ¶çš„å­—ç¬¦ç¼–ç 
# Gité…ç½®å˜é‡ core.quotepath è®¾ç½®ä¸º false, è§£å†³ä¸èƒ½æ˜¾ç¤ºä¸­æ–‡çš„é—®é¢˜
$ git config --global core.quotepath false
```


## git submodule

å½“ä¸€ä¸ªæ¨¡å—éœ€è¦åœ¨å¤šä¸ªé¡¹ç›®ä¸­å¤ç”¨æ—¶ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯å¤åˆ¶ç²˜è´´ï¼Œä½†ç¼ºç‚¹æ˜¯å®žé™…æ“ä½œè¿‡ç¨‹ä¸­å®¹æ˜“å¿˜è®°åœ¨æ‰€æœ‰é¡¹ç›®ä¸­åŒæ­¥ã€‚æ­¤å¤–è¿˜å¯ä½¿ç”¨ npm åŒ…ç®¡ç†å™¨çš„æ–¹æ¡ˆï¼Œä½†ç¼ºç‚¹æ˜¯æ¯å½“å‘å¸ƒåŽéƒ½éœ€è¦æœ¬åœ°æ›´æ–°ç‰ˆæœ¬ï¼Œè¾ƒä¸ºç¹çã€‚äºŽæ˜¯æœ‰äº†ä»Šå¤©è¦åˆ†äº«çš„ git submodule - git é‡Œå¼ºå¤§çš„å¤–éƒ¨ä¾èµ–ç®¡ç†å·¥å…·

#### ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ git submodule

- å½“å¤–éƒ¨ä¾èµ–å˜åŠ¨éžå¸¸é¢‘ç¹æ—¶ï¼Œä½ éœ€è¦é”å®šæŸä¸ªæŒ‡å®šçš„ commit æ¥ä¿è¯ä»£ç çš„ç¨³å®šæ€§
- å¦‚æžœæŸä¸ªç»„ä»¶çš„æ›´æ–°é¢‘çŽ‡ä¸æ˜¯å¾ˆé«˜ï¼Œå¹¶ä¸”æ‚¨å¸Œæœ›å°†å…¶ä½œä¸ºå¤–éƒ¨ä¾èµ–åŒ…è¿›è¡Œè·Ÿè¸ª
- å½“ä½ æƒ³è¦æŠŠé¡¹ç›®çš„ä¸€éƒ¨åˆ†åŠŸèƒ½å§”æ´¾ç»™ç¬¬ä¸‰æ–¹ï¼Œç„¶åŽè¦åœ¨æŒ‡å®šæ—¶é—´æ•´åˆåœ¨ä¸€èµ·ï¼Œä¸”è¿™ç§å˜æ›´ä¸æ˜¯å¾ˆé¢‘ç¹æ—¶

#### å¦‚ä½•ä½¿ç”¨

##### åœ¨å·²æœ‰é¡¹ç›®é‡Œæ·»åŠ å­æ¨¡å—

```bash
$ git submodule add https://github.com/xxx/xx

```

#### ç¼ºç‚¹

- åœ¨å¤šäººåä½œæ—¶ï¼Œæœ‰ä¸€å®šçš„å­¦ä¹ éš¾åº¦
- å‡çº§ç‰ˆæœ¬çš„æ“ä½œé—¨æ§›å˜çš„å¾ˆä½Ž(git pull)ï¼Œä¼šå¯¼è‡´ä¸€ä¸å°å¿ƒå°±å‡çº§äº†ä¸å‘åŽå…¼å®¹çš„ä»£ç 

## git tag

## git hooks

## git test

åœ¨è¿›è¡Œäº†äº”æ¬¡ git åˆ†äº«åŽï¼Œç›¸ä¿¡å¤§å®¶å¯¹ git ä¸€å®šæœ‰æ›´æ·±å…¥çš„äº†è§£ï¼ŒæŽ¥ä¸‹æ¥ä¼šå‘ä¸€ä¸ªæ–‡æ¡£æ¥â€œå¤ä¹ â€å¸¸è§çš„ git ä½¿ç”¨åœºæ™¯

- Git é…ç½®ä»£ç†

```bash
git config --global https.proxy http://127.0.0.1:1080

git config --global https.proxy https://127.0.0.1:1080

git config --global --unset http.proxy

git config --global --unset https.proxy
```




- Git GPG ç­¾å

Git è™½ç„¶æ˜¯å¯†ç çº§å®‰å…¨çš„ï¼Œä½†å®ƒä¸æ˜¯ä¸‡æ— ä¸€å¤±çš„ã€‚ å¦‚æžœä½ ä»Žå› ç‰¹ç½‘ä¸Šçš„å…¶ä»–äººé‚£é‡Œæ‹¿å–å·¥ä½œï¼Œå¹¶ä¸”æƒ³è¦éªŒè¯æäº¤æ˜¯ä¸æ˜¯çœŸæ­£åœ°æ¥è‡ªäºŽå¯ä¿¡æ¥æº.

è§£å†³æ–¹æ¡ˆå°±æ˜¯å¯¹äºŽæäº¤å’Œæ ‡ç­¾ ä½¿ç”¨ GPG ç§é’¥æ¥ç­¾ç½²ã€‚

å¸¦æœ‰ GPG ç­¾åçš„ ```github``` æäº¤ çœ‹èµ·æ¥ä¼šåƒä¸‹é¢è¿™æ ·ï¼š

![](https://mogeko.me/blog-images/r/065/verified_1.png)

å…·ä½“çš„æ“ä½œå¯ä»¥çœ‹ä¸‹é¢çš„ä¸¤ä¸ªé“¾æŽ¥ï¼Œç›®çš„åªæ˜¯è®©å¤§å®¶çŸ¥é“æœ‰è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ã€‚


### Github å°æŠ€å·§

#### 1. åŠ å¿« ```github ç½‘ç«™```çš„ ```clone```é€Ÿåº¦

Github ä¸‹è½½ä»£ç çš„é€Ÿåº¦ä¹ŸæŠ½é£Žï¼Œä»€ä¹ˆåŽŸå› å¤§å®¶éƒ½çŸ¥é“ã€‚

æ‰€ä»¥ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯ç»™ Git è®¾ç½®ä»£ç†ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå…¬å¸çš„æœåŠ¡å™¨å’Œå›½å†…çš„ä¸€äº› Git æœåŠ¡å™¨å•†å¦‚ ç äº‘ç­‰ï¼Œé€Ÿåº¦æœ¬æ¥å°±æ­£å¸¸ï¼Œæ— éœ€å¤šæ­¤ä¸€ä¸¾ï¼Œè®¾ç½®ä»£ç†ã€‚æ‰€æœ‰ï¼Œæˆ‘åªæƒ³è¦é’ˆå¯¹ **github** è®¾ç½®ï¼Œä¸‹é¢çš„è¯­æ³•å°±æ˜¯åªé’ˆå¯¹ github.com è¿™ä¸ªåŸŸåè®¾ç½®ä»£ç†ï¼š

Git ç›®å‰æ”¯æŒçš„ä¸‰ç§åè®® ```git://```ã€```ssh://``` å’Œ ```https://```ï¼Œå…¶ä»£ç†é…ç½®å„ä¸ç›¸åŒï¼š```core.gitproxy``` ç”¨äºŽ ```git://``` åè®®ï¼Œ```http.proxy``` ç”¨äºŽ ```http://, https://``` åè®®ï¼Œ```ssh://``` åè®®çš„ä»£ç†éœ€è¦é…ç½® ```ssh``` çš„ ```ProxyCommand``` å‚æ•°ã€‚

ä¸‹é¢ï¼Œæˆ‘ä»¬å°±ä¸¾ä¸€ä¸ª é…ç½® ```http``` ä»£ç†çš„æ–¹å¼æ¥åŠ å¿« ```git clone``` ä»“åº“çš„é€Ÿåº¦:
```bash
# æ³¨æ„ï¼Œè¿™ä¸ªç«¯å£(1080)ä¸€å®šè¦å’Œä½ æœ¬åœ°çš„ä»£ç†ç«¯å£ä¿æŒä¸€è‡´!, å¦åˆ™,ä¼šå¯¼è‡´ä¸‹é¢çš„é—®é¢˜ï¼š 
# fatal: unable to access 'https://github.com/vuejs/vue.git/': Failed to connect to 127.0.0.1 port 1086: Connection refused

# åªå¯¹ github.com ä½¿ç”¨ä»£ç†
git config --global http.https://github.com.proxy socks5://127.0.0.1:1080
# å–æ¶ˆä»£ç†
git config --global --unset http.https://github.com.proxy)
```

å®žé™…çš„æ•ˆæžœå°±æ˜¯ åœ¨ ```~/.gitconfig``` æ·»åŠ äº†å¦‚ä¸‹ä¸€è¡Œï¼š
å½“ç„¶äº†ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æŽ¥æ‰“å¼€è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰‹åŠ¨åŠ å…¥è¿™ä¸€è¡Œé…ç½®ã€‚

![è®¾ç½®ä»£ç†.gitconfig](assets/WX20200818-174102@2x.png)

é…ç½®ä»£ç†å‰ï¼š

![è®¾ç½®ä»£ç†å‰](assets/WX20200819-175549@2x.png)


è®¾ç½®ä»£ç†åŽï¼šé€Ÿåº¦æ„Ÿè§‰èµ·é£žäº†ï¼Œå°±åƒå¼€é€šäº†ç™¾åº¦ç½‘ç›˜çš„ä¼šå‘˜åŠ é€Ÿäº†ä¸€æ ·ï¼Œé€Ÿåº¦æ„Ÿè§‰æ˜¯ä¸€ä¸ªå¤©ä¸Šä¸€ä¸ªåœ°ä¸‹.

![è®¾ç½®ä»£ç†åŽ](assets/WX20200818-174001@2x.png)

#### æ³¨æ„äº‹é¡¹ï¼š

- ```socks5``` é…ç½®çš„ä»£ç†ï¼Œé’ˆå¯¹ ä½¿ç”¨ ```git clone https://github.com/xxx/xxxxx.git``` çš„ä¸‹è½½æ–¹å¼æœ‰æ•ˆï¼Œå¯¹äºŽ  ```git clone git@github.com:vuejs/vue.git``` è¿™ç§  git åè®®ä¸‹è½½æ–¹å¼æ˜¯æ— æ•ˆçš„ï¼ˆå³ä¸ä¼šèµ°ä»£ç†ï¼‰ã€‚
- å½“ å‡ºçŽ° git clone å¤±è´¥æ—¶ï¼Œè®°å¾—æ£€æŸ¥ä½ çš„ä»£ç†ï¼Œ æŠŠä»£ç†çš„è®¾ç½®åŽ»æŽ‰ã€‚


å¦‚æžœè®¾ç½®å…¨å±€ä»£ç†å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œä¹Ÿå¯ä»¥åœ¨ clone æ—¶ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š

ðŸŒ°ï¼š
```bash
# é’ˆå¯¹æ­¤æ¬¡ clone, ä½¿ç”¨å½“å‰é…ç½®(è®¾ç½®äº†ä»£ç†, å½“å‰é…ç½®ä¼˜å…ˆ)åˆå¹¶å…¨å±€çš„è®¾ç½®
git clone -c http.proxy=socks5://127.0.0.1:1080 https://github.com/vuejs/vue.git
```
äº²æµ‹æœ‰æ•ˆ ðŸ‘:apple::apple::apple:


##### PS: å¦‚æžœæƒ³ ssh è®¿é—®æ—¶ï¼Œ ä¹Ÿèµ°ä»£ç†ï¼Œå¯ä»¥åšå¦‚ä¸‹é…ç½®ï¼š

```~/.ssh/config``` æ–‡ä»¶, æ²¡æœ‰æ­¤æ–‡ä»¶çš„è¯å°±æ–°å»ºä¸€ä¸ª. åŒæ ·ä»…ä¸º ```github.com``` è®¾ç½®ä»£ç†:
macOs ä¸‹ï¼š

```bash
Host github.com
    User git
    ProxyCommand nc -v -x 127.0.0.1:1080 %h %p # ç«¯å£å·è®°å¾—æ¢æˆä½ ç”µè„‘ä»£ç†çš„ç«¯å£
```

Window ä¸‹ï¼š

````bash
Host github.com
    User git
    ProxyCommand connect -S 127.0.0.1:1080 %h %p # ç«¯å£å·è®°å¾—æ¢æˆä½ ç”µè„‘ä»£ç†çš„ç«¯å£
```

è¿™é‡Œ-Sè¡¨ç¤ºä½¿ç”¨socks5ä»£ç†, å¦‚æžœæ˜¯```http```ä»£ç†åˆ™ä¸º```-H. connect``` å·¥å…· ```git``` è‡ªå¸¦, åœ¨ \mingw64\bin\ ä¸‹é¢.

é…ç½®æˆåŠŸåŽï¼Œå¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼š

æµ‹è¯•ä¸€ä¸‹ å…‹éš† ```Vue``` ä»“åº“
```bash
git clone git@github.com:vuejs/vue.git
```

![è®¾ç½®ä»£ç†åŽ](assets/WX20200819-190816@2x.png)

:apple: é€Ÿåº¦æ„Ÿäººï¼ŒNice!

#### 2. è§£å†³ GitHub å›¾ç‰‡ï¼ˆç”¨æˆ·å¤´åƒï¼Œæ–‡æ¡£å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥, ç½‘ç«™è®¿é—®é€Ÿåº¦æ…¢çš„é—®é¢˜ï¼‰

[GitHub520](https://github.com/521xueweihan/GitHub520)


å‚è€ƒèµ„æ–™ï¼š
[Git è®¾ç½®å’Œå–æ¶ˆä»£ç†](https://gist.github.com/laispace/666dd7b27e9116faece6)
[ä½¿ç”¨ GPG ç­¾åä½ çš„ Git Commit](https://mogeko.me/2019/065/)
[Git å·¥å…· - ç­¾ç½²å·¥ä½œ](https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E7%AD%BE%E7%BD%B2%E5%B7%A5%E4%BD%9C)
>>>>>>> eacf9058407fdd78e1b33bdb8731a1c358766deb
